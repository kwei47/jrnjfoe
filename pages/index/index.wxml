<view class="container">
  <!-- 筛选栏 -->
  <view class="filter-bar">
    <picker mode="selector" range="{{categoryList}}" range-key="name" value="{{filterCategoryIndex}}" bindchange="changeFilterCategory">
      <view class="filter-picker">{{filterCategoryIndex === 0 ? '全部分类' : categoryList[filterCategoryIndex-1]?.name}}</view>
    </picker>
  </view>

  <!-- 物品列表 -->
  <view class="item-list">
    <block wx:for="{{itemList}}" wx:key="_id">
      <view class="item-card" bindtap="goToDetail" data-id="{{item._id}}">
        <!-- 物品图片（取第一张） -->
        <image src="{{item.imgList[0] || '/images/icon/default.png'}}" mode="widthFix"></image>
        <!-- 物品信息 -->
        <view class="item-info">
          <text class="item-name">{{item.name}}</text>
          <text class="item-category">分类：{{item.categoryName}}</text>
          <text class="item-date">购买日期：{{item.buyDate || '未填写'}}</text>
        </view>
      </view>
    </block>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:if="{{itemList.length === 0}}">
    <image src="/images/icon/empty.png" mode="widthFix"></image>
    <text>暂无物品记录，点击底部「添加物品」开始记录吧～</text>
  </view>
</view>